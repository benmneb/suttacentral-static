---
layout: base-layout.liquid

pagination:
  data: textData
  size: 1
  alias: data
  addAllPagesToCollections: true

permalink: '{{ data.scx_path }}/index.html'
eleventyComputed:
  title: '{{ data.acronym }}: {{ data.original_title }}â€”{{ data.author }}'
---

<article>
  {% if data.is_root %}
    {% for key in data._bilarasuttas_data.keys_order %}
      {% assign html = data._bilarasuttas_data.html_text[key] %}
      {% assign text = data._bilarasuttas_data.root_text[key] %}
      {% if html and text %}
        {{ html | replace: "{}", text }}
      {% endif %}
    {% endfor %}
  {% elsif data.segmented %}
    {% for key in data._bilarasuttas_data.keys_order %}
      {% assign html = data._bilarasuttas_data.html_text[key] %}
      {% assign text = data._bilarasuttas_data.translation_text[key] %}
      {% if html and text %}
        {{ html | replace: "{}", text }}
      {% endif %}
    {% endfor %}
  {% else %}
    {{ data._suttas_data.text | replace: "\n", "" }}
  {% endif %}
</article>

<script>
  const entry = {{ data | jsonify }};
  console.log(entry);
</script>
