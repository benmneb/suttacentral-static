---
layout: base-layout.liquid

pagination:
  data: textData
  size: 1
  alias: entry
  addAllPagesToCollections: true

permalink: '{{ entry.scx_path }}/index.html'
eleventyComputed:
  title: '{{ entry.acronym }}: {{ entry.original_title }}â€”{{ entry.author }}'
---

<header>
  {% assign parts = entry.scx_breadcrumb | split: "/" %}
  {% assign second_last = parts | size | minus: 1 %}
  <nav aria-label="Breadcrumb">
    <ul>
      <li>
        <a href="/">ðŸ“š</a>
      </li>
      {% for part in parts %}
        {% assign path = path | append: "/" | append: part %}
        <li>
          {% if forloop.last %}
            <span aria-current="page">{{ part }}</span>
          {% elsif forloop.index == second_last %}
            <a href="/{{ part }}">{{ part }}</a>
          {% else %}
            <a href="/pitika{{ path }}">{{ part }}</a>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  </nav>
</header>

<main>
    <article>
    {% if entry.is_root %}
    {% for key in entry._bilarasuttas_data.keys_order %}
    {% assign html = entry._bilarasuttas_data.html_text[key] %}
    {% assign text = entry._bilarasuttas_data.root_text[key] %}
        {% if html and text %}
            {{ html | replace: "{}", text }}
        {% endif %}
        {% endfor %}
    {% elsif entry.segmented %}
    {% for key in entry._bilarasuttas_data.keys_order %}
    {% assign html = entry._bilarasuttas_data.html_text[key] %}
    {% assign text = entry._bilarasuttas_data.translation_text[key] %}
        {% if html and text %}
            {{ html | replace: "{}", text }}
        {% endif %}
        {% endfor %}
    {% else %}
        {{ entry._suttas_data.text | replace: "\n", "" }}
    {% endif %}
    </article>

    <script>
    const data = {{ entry | jsonify }};
    console.log(data);
    </script>
</main>

{% include "components/footer.liquid", route: entry.scx_path %}
